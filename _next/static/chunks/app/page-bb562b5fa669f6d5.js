(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2610:(e,t,l)=>{Promise.resolve().then(l.bind(l,3480))},3480:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>C});var s=l(5155),n=l(2115),i=l(1983),r=l(437);let a={width:48,gap:4},o=e=>{let{title:t,subtitle:l,level:n,className:i=""}=e,r="\n    w-".concat(a.width," h-20\n    border border-gray-300 rounded\n    flex flex-col justify-center items-center m-2\n  ");return 0===n?r+=" bg-gray-700 text-white border-gray-500":1===n?r+=" bg-gray-500 text-white border-gray-700":2===n?r+=" bg-gray-400 border-gray-500":3===n?r+=" bg-gray-300 border-gray-500":r+=" bg-blue-50 border-gray-500",(0,s.jsx)("div",{className:"".concat(r," ").concat(i),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-bold",children:t}),l&&(0,s.jsx)("div",{className:"text-sm",children:l})]})})},c=e=>{let{height:t,marginTop:l=0,marginBottom:n=0}=e;return(0,s.jsx)("div",{style:{width:"1px",height:"".concat(t,"px"),backgroundColor:"#666",margin:"".concat(l,"px auto ").concat(n,"px auto")}})},d=e=>{let{lineCount:t}=e,l=250*t,n=Array.from({length:t},(e,t)=>t);return(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(c,{height:30}),(0,s.jsx)("div",{style:{display:"inline-block",width:"".concat(l,"px"),height:"".concat(1,"px"),backgroundColor:"#666",marginTop:"".concat(20,"px"),marginBottom:"".concat(20,"px"),position:"relative"},children:n.map((e,l)=>{let n=l/(t-1||1);return(0,s.jsx)("div",{style:{position:"absolute",left:"".concat(100*n,"%"),top:0,width:"1px",height:"30px",backgroundColor:"#666"}},l)})})]})},u=e=>{let{count:t,type:l="vertical"}=e;return"vertical"!==l?(0,s.jsx)("div",{className:"relative h-4 w-full",children:(0,s.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-gray-300"})}):t<=1?(0,s.jsx)("div",{className:"relative w-full h-8",children:(0,s.jsx)("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-gray-300"})}):(0,s.jsxs)("div",{className:"relative w-full h-12",children:[(0,s.jsx)("div",{className:"absolute left-1/2 top-0 bottom-1/2 w-px bg-gray-300"}),(0,s.jsx)("div",{className:"absolute top-1/2 h-px bg-gray-300",style:{left:"".concat(.5/t*100,"%"),right:"".concat(.5/t*100,"%")}}),Array(t).fill(null).map((e,l)=>(0,s.jsx)("div",{className:"absolute top-1/2 bottom-0 w-px bg-gray-300",style:{left:"".concat((l+.5)/t*100,"%")}},l))]})},m=e=>{let{vsm:t,config:l}=e,n=g(l),i=n.map(e=>{let t=e.tlGroup.length;return 80*t+(t-1)*16}),r=Math.max(...i);return(0,s.jsxs)("div",{className:"flex flex-col items-center mx-8",children:[(0,s.jsx)(o,{title:"VSM",subtitle:t.subtitle,level:1}),(0,s.jsx)(u,{count:3,type:"vertical"}),(0,s.jsx)("div",{className:"flex flex-row",children:n.map((e,t)=>{var l;let n=Math.max(0,r-i[t])+30;return(0,s.jsxs)("div",{className:"flex flex-col items-center mx-6",children:[(0,s.jsx)(o,{title:"GL",subtitle:e.gl.subtitle,level:2}),(0,s.jsx)(c,{height:20}),(0,s.jsx)("div",{className:"flex flex-col",children:e.tlGroup.map((e,t)=>(0,s.jsx)(o,{title:"TL",subtitle:e.subtitle,level:3},t))}),(0,s.jsx)("div",{style:{height:n}}),(0,s.jsx)("div",{className:"flex flex-col",children:null===(l=e.tmGroup)||void 0===l?void 0:l.map((e,t)=>(0,s.jsx)(o,{title:"TM",subtitle:e.subtitle,level:4},t))})]},t)})})]})},x=e=>{let{tlData:t,tmData:l,tlStartY:i,tmStartY:r}=e,d=l.length,u=a.width/4,m=a.gap/4,x=(0,n.useRef)(null);return(0,s.jsxs)("div",{className:"flex flex-col items-center relative",children:[t.length>0&&(0,s.jsx)("div",{ref:x,style:{position:"absolute",top:"".concat(i,"px"),left:"50%",transform:"translateX(-50%)",width:"fit-content"},children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(o,{title:"TL",subtitle:e,level:3}),(0,s.jsx)(c,{height:20})]},t))}),(0,s.jsx)("div",{style:{position:"absolute",top:"".concat(r,"px"),left:x.current?"calc(".concat(x.current.offsetLeft+x.current.offsetWidth/2,"px)"):"50%",transform:"translateX(-50%)",display:"flex",gap:"".concat(m,"rem"),width:"".concat(d*u+(d-1)*m,"rem")},children:l.map((e,t)=>(0,s.jsx)("div",{className:"flex flex-col items-center",style:{width:"".concat(u,"rem")},children:e.map((e,t)=>(0,s.jsx)(o,{title:"TM",subtitle:e,level:4},t))},t))})]})},h=e=>{let{page:t="1",config:l={lineCount:4,shiftsCount:2,miniLineCount:2,hasTonguePrefit:!0,stockfitRatio:"2:1"}}=e,[i,r]=(0,n.useState)(.4),[a,c]=(0,n.useState)(!1),[u,x]=(0,n.useState)({x:0,y:0}),h=(0,n.useRef)(null),f=(0,n.useCallback)(()=>{a&&c(!1)},[a]);(0,n.useEffect)(()=>{let e=e=>{a&&e.preventDefault()};return window.addEventListener("wheel",e,{passive:!1}),window.addEventListener("mouseup",f),()=>{window.removeEventListener("wheel",e),window.removeEventListener("mouseup",f)}},[a,f]);let p=e=>{let t=g(l);if("MGL"===e)return 1;if("VSM"===e)return l.lineCount;let s=0;return t.forEach(t=>{"GL"===e?s+=t.gl.count:"TL"===e?s+=t.tlGroup.length:"TM"===e&&(s+=t.tmGroup.length)}),s*l.lineCount},b=["MGL","VSM","GL","TL","TM"].reduce((e,t)=>e+p(t),0);return(0,s.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,s.jsx)("div",{ref:h,className:"h-[80%] relative",style:{overflow:"auto",cursor:a?"grabbing":"grab",width:"100%",height:"100%",padding:"2rem"},onMouseDown:e=>{1===e.button&&(e.preventDefault(),c(!0),x({x:e.clientX,y:e.clientY}))},onMouseMove:e=>{if(!a||!h.current)return;let t=e.clientX-u.x,l=e.clientY-u.y;h.current.scrollLeft=t,h.current.scrollTop=l},onMouseLeave:f,children:(0,s.jsx)("div",{className:"transition-transform duration-200",style:{minWidth:"".concat(100*i,"%"),minHeight:"".concat(100*i,"%"),transform:"scale(".concat(i,")")},children:(0,s.jsx)("div",{className:"transform-gpu",style:{transformOrigin:"0 0",padding:"1rem",margin:"0 auto",width:"fit-content"},children:(e=>{switch(e){case"1":return(0,s.jsx)("div",{className:"border rounded-lg shadow-sm p-12 mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(o,{title:"MGL",subtitle:"Plant A",level:0}),(0,s.jsx)(d,{lineCount:l.lineCount}),(0,s.jsx)("div",{className:"flex flex-row",children:Array(l.lineCount).fill(null).map((e,t)=>(0,s.jsx)(m,{vsm:{subtitle:"Line ".concat(t+1)},config:l},t))})]})});case"2":return(0,s.jsxs)("div",{className:"p-8 border rounded-lg shadow-sm mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"페이지 2"}),(0,s.jsx)("p",{className:"mt-4",children:"여기에 페이지 2의 디자인을 구현하세요."})]});case"3":return(0,s.jsxs)("div",{className:"p-8 border rounded-lg shadow-sm mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"페이지 3"}),(0,s.jsx)("p",{className:"mt-4",children:"여기에 페이지 3의 디자인을 구현하세요."})]});default:return null}})(t)})})}),(0,s.jsxs)("div",{className:"h-[20%] border-t p-4 bg-white shadow-md flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("button",{onClick:()=>r(e=>e+.1),className:"w-10 h-10 py-1 border border-gray-500 rounded hover:bg-gray-100",children:"+"}),(0,s.jsx)("button",{onClick:()=>r(e=>Math.max(.1,e-.1)),className:"w-10 h-10 py-1 border border-gray-500 rounded hover:bg-gray-100",children:"-"}),(0,s.jsx)("button",{onClick:()=>r(.4),className:"w-20 h-10 py-1 border border-gray-500 rounded hover:bg-gray-100",children:"리셋"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4 h-40",children:(0,s.jsxs)("div",{className:"fixed right-12 bottom-8 bg-white p-4 rounded-lg shadow-lg border border-gray-500 w-48",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-20",children:"MGL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-3 py-0.5 rounded",children:p("MGL")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-20",children:"VSM:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-3 py-0.5 rounded",children:p("VSM")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-20",children:"GL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-3 py-0.5 rounded",children:p("GL")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-20",children:"TL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-3 py-0.5 rounded",children:p("TL")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-20",children:"TM:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-3 py-0.5 rounded",children:p("TM")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t",children:[(0,s.jsx)("span",{className:"font-semibold w-20",children:"총 인원수:"}),(0,s.jsx)("div",{className:"bg-gray-200 px-3 py-0.5 rounded font-bold",children:b})]})]})})]})]})};function g(e){return[{gl:{subtitle:"Cutting-Prefit",count:1},tlGroup:Array(e.shiftsCount).fill(null).map((e,t)=>({subtitle:"No-sew Shift ".concat(t+1)})),tmGroup:Array(e.shiftsCount).fill(null).map((e,t)=>({subtitle:"MH to No-sew Shift ".concat(t+1)}))},{gl:{subtitle:"Stitching",count:1},tlGroup:[...Array(e.miniLineCount).fill(null).map((e,t)=>({subtitle:"Mini Line ".concat(t+1)})),{subtitle:"Tongue Prefit"}],tmGroup:Array(e.miniLineCount).fill(null).map((e,t)=>({subtitle:"MH to Stitching ".concat(t+1)}))},{gl:{subtitle:"Stockfit",count:1},tlGroup:"1:1"===e.stockfitRatio?[{subtitle:"Stockfit"}]:[{subtitle:"Stockfit Input"},{subtitle:"Stockfit Output"}],tmGroup:[{subtitle:"MH → Assembly"}]},{gl:{subtitle:"Assembly",count:1},tlGroup:[{subtitle:"Input"},{subtitle:"Cementing"},{subtitle:"Finishing"}],tmGroup:[{subtitle:"MH → Assembly"},{subtitle:"MH → FG WH"},{subtitle:"MH → Last"}]}]}let f={lineCount:4,shiftsCount:2,miniLineCount:2,hasTonguePrefit:!0,stockfitRatio:"2:1",cuttingPrefitCount:1,stitchingCount:1,stockfitCount:1,assemblyCount:1};function p(){let[e,t]=(0,n.useState)(f),[l,a]=(0,n.useState)(1),[c,u]=(0,n.useState)({x:0,y:0}),[x,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)({x:0,y:0}),b=(0,n.useRef)(null),v=(0,n.useRef)(null),j=()=>{h(!1)};(0,n.useEffect)(()=>(window.addEventListener("mouseup",j),()=>{window.removeEventListener("mouseup",j)}),[]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{y()},50);return()=>clearTimeout(e)},[]);let y=()=>{b.current&&v.current&&(a(1),u({x:0,y:0}),requestAnimationFrame(()=>{let e=b.current.getBoundingClientRect(),t=v.current.getBoundingClientRect();if(0===t.width||0===t.height)return;let l=Math.min(e.width/t.width,e.height/t.height),s=t.width*l,n=t.height*l,i=(e.width-s)/2,r=(e.height-n)/2;a(l),u({x:i,y:r})}))},N=t=>{let l=[{gl:{subtitle:"Cutting-Prefit",count:e.cuttingPrefitCount},tlGroup:Array(e.shiftsCount).fill(null).map((e,t)=>({subtitle:"No-sew Shift ".concat(t+1)})),tmGroup:Array(e.shiftsCount).fill(null).map((e,t)=>({subtitle:"MH to No-sew Shift ".concat(t+1)}))},{gl:{subtitle:"Stitching",count:e.stitchingCount},tlGroup:[...Array(e.miniLineCount).fill(null).map((e,t)=>({subtitle:"Mini Line ".concat(t+1)})),{subtitle:e.hasTonguePrefit?"Tongue Prefit":"No Tongue"}],tmGroup:Array(e.miniLineCount).fill(null).map((e,t)=>({subtitle:"MH to Stitching ".concat(t+1)}))},{gl:{subtitle:"Stockfit",count:e.stockfitCount},tlGroup:"1:1"===e.stockfitRatio?[{subtitle:"Stockfit"}]:[{subtitle:"Stockfit Input"},{subtitle:"Stockfit Output"}],tmGroup:[{subtitle:"MH → Assembly"}]},{gl:{subtitle:"Assembly",count:e.assemblyCount},tlGroup:[{subtitle:"Input"},{subtitle:"Cementing"},{subtitle:"Finishing"}],tmGroup:[{subtitle:"MH → Assembly"},{subtitle:"MH → FG WH"},{subtitle:"MH → Last"}]}];if("MGL"===t)return 1;if("VSM"===t)return e.lineCount;let s=0;return l.forEach(e=>{"GL"===t?s+=e.gl.count:"TL"===t?s+=e.tlGroup.length:"TM"===t&&(s+=e.tmGroup.length)}),s*e.lineCount},w=["MGL","VSM","GL","TL","TM"].reduce((e,t)=>e+N(t),0);return(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,s.jsxs)("div",{ref:b,className:"relative",style:{height:"80%",overflow:"hidden",backgroundColor:"#f2f2f2"},onMouseDown:e=>{(0===e.button||1===e.button)&&(e.preventDefault(),h(!0),p({x:e.clientX,y:e.clientY}))},onMouseMove:e=>{if(!x)return;let t=e.clientX-g.x,l=e.clientY-g.y;p({x:e.clientX,y:e.clientY}),u(e=>({x:e.x+t,y:e.y+l}))},children:[(0,s.jsx)("div",{ref:v,style:{transform:"translate(".concat(c.x,"px, ").concat(c.y,"px) scale(").concat(l,")"),transformOrigin:"0 0"},children:(0,s.jsx)("div",{className:"border rounded-lg shadow-sm p-12 bg-white",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(o,{title:"MGL",subtitle:"Plant A",level:0}),(0,s.jsx)(d,{lineCount:e.lineCount}),(0,s.jsx)("div",{className:"flex flex-row",children:Array(e.lineCount).fill(null).map((t,l)=>(0,s.jsx)(m,{vsm:{subtitle:"Line ".concat(l+1)},config:e},l))})]})})}),(0,s.jsxs)("div",{className:"absolute z-50 bg-white p-4 rounded-lg shadow-lg border border-gray-500 w-48",style:{right:"2rem",bottom:"2rem"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"MGL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:N("MGL")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"VSM:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:N("VSM")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"GL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:N("GL")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"TL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:N("TL")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"TM:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:N("TM")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"총합:"}),(0,s.jsx)("div",{className:"bg-gray-200 px-3 py-0.5 rounded font-bold",children:w})]})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-white border-t",style:{height:"20%"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("button",{onClick:()=>a(e=>e+.1),className:"w-10 h-10 border border-gray-500 rounded hover:bg-gray-100",children:"+"}),(0,s.jsx)("button",{onClick:()=>a(e=>Math.max(.1,e-.1)),className:"w-10 h-10 border border-gray-500 rounded hover:bg-gray-100",children:"-"}),(0,s.jsx)("button",{onClick:()=>{y()},className:"w-20 h-10 border border-gray-500 rounded hover:bg-gray-100",children:"리셋"})]}),(0,s.jsx)("div",{className:"flex flex-col space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("label",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"라인 수"}),(0,s.jsx)("input",{type:"number",className:"w-20 border p-1 rounded",value:e.lineCount,onChange:e=>t(t=>({...t,lineCount:+e.target.value}))})]}),(0,s.jsxs)("label",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"쉬프트 수"}),(0,s.jsx)("input",{type:"number",className:"w-20 border p-1 rounded",value:e.shiftsCount,onChange:e=>t(t=>({...t,shiftsCount:+e.target.value}))})]}),(0,s.jsxs)("label",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"미니 라인 수"}),(0,s.jsx)("input",{type:"number",className:"w-20 border p-1 rounded",value:e.miniLineCount,onChange:e=>t(t=>({...t,miniLineCount:+e.target.value}))})]}),(0,s.jsxs)("label",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"Stockfit 비율"}),(0,s.jsxs)(i.A,{size:"small",value:e.stockfitRatio,onChange:e=>t(t=>({...t,stockfitRatio:e.target.value})),children:[(0,s.jsx)(r.A,{value:"1:1",children:"1:1"}),(0,s.jsx)(r.A,{value:"2:1",children:"2:1"})]})]}),(0,s.jsxs)("label",{className:"flex flex-row items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"Tongue Prefit"}),(0,s.jsx)("input",{type:"checkbox",checked:e.hasTonguePrefit,onChange:e=>t(t=>({...t,hasTonguePrefit:e.target.checked}))})]})]})})]})]})}let b=()=>{let e=["FG WH","Bottom Market"],[t,l]=(0,n.useState)({lineCount:4,shiftsCount:2,miniLineCount:2,hasTonguePrefit:!0,stockfitRatio:"2:1"}),[i,r]=(0,n.useState)(.8),[a,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)({x:0,y:0}),[h,g]=(0,n.useState)({x:0,y:0}),f=(0,n.useRef)(null),p=(0,n.useCallback)(()=>{a&&f.current&&(g({x:f.current.scrollLeft,y:f.current.scrollTop}),d(!1))},[a]);(0,n.useEffect)(()=>{let e=e=>{a&&e.preventDefault()};return window.addEventListener("wheel",e,{passive:!1}),window.addEventListener("mouseup",p),()=>{window.removeEventListener("wheel",e),window.removeEventListener("mouseup",p)}},[a,p]);let b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Line ";return Array.from({length:e},(e,l)=>"".concat(t).concat(l+1))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Line ",l=[],s=1;for(;s<=e;)s+1<=e?(l.push("".concat(t).concat(s,"-").concat(s+1)),s+=2):(l.push("".concat(t).concat(s)),s+=1);return l},j=n.useMemo(()=>[{title:["Admin"],tl:[],tm:[["Payroll"],["APS"],["Material"],["Production"],["GMES"],["Admin Line 1-2"],["Admin Line 3-4"]]},{title:["Small Tooling"],tl:["Small Tooling"],tm:[["Cutting Die"],["Pallet"],["Pad/Mold"]]},{title:["Raw Material"],tl:[],tm:b(t.lineCount).map(e=>[e])},{title:["Sub Material"],tl:["SAP RO"],tm:[["Incoming Mgmt."],["Distribution"]]},{title:["ACC"],tl:["ACC"],tm:b(t.lineCount).map(e=>[e])},{title:"P&L",tl:["P&L"],tm:[v(t.lineCount).map(e=>"Stencil ".concat(e)),["Incoming & Setting"],b(t.lineCount)]},{title:["Bottom Market"],tl:["Bottom Market Incoming"],tm:[b(t.lineCount).map(e=>"Outsole ".concat(e)),["Midsole Incoming & Setting"],v(t.lineCount).map(e=>"Midsole ".concat(e)),b(t.lineCount).map(e=>"Airbag, Bottom ACC Line ".concat(e))]},{title:"FG WH",tl:["FG WH"],tm:[b(4).map(e=>"Shipping ".concat(e)),b(4).map(e=>"Incoming & Setting ".concat(e)),["Report"],["Metal Detect"]]}],[t]),[y,N]=(0,n.useState)({tlStartY:0,tmStartY:0,totalHeight:0});(0,n.useEffect)(()=>{let e=Math.max(...j.map(e=>e.tm.reduce((e,t)=>e+t.length,0)));N({tlStartY:20,tmStartY:160,totalHeight:160+50*e+20*(e-1)})},[j]);let w=t=>{let{title:l,tlData:n,tmData:i,tlStartY:r,tmStartY:a}=t;return"string"==typeof l&&e.includes(l)||Array.isArray(l)&&l.some(t=>e.includes(t))?(0,s.jsx)(x,{tlData:n,tmData:i,tlStartY:r,tmStartY:a}):(0,s.jsxs)("div",{className:"flex flex-col items-center mx-4 relative",children:[n.length>0&&(0,s.jsx)("div",{style:{position:"absolute",top:"".concat(r,"px")},children:n.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(o,{title:"TL",subtitle:e,level:3}),(0,s.jsx)(c,{height:20})]},t))}),(0,s.jsx)("div",{style:{position:"absolute",top:"".concat(a,"px")},children:(n.length>0?i:i.map(e=>[e[0]])).map((e,t)=>(0,s.jsx)("div",{className:"flex flex-col items-center gap-2",children:e.map((e,t)=>(0,s.jsx)(o,{title:"TM",subtitle:e,level:4},t))},t))})]})};return(0,s.jsxs)("div",{className:"flex flex-col h-screen relative",children:[(0,s.jsx)("div",{ref:f,className:"relative",style:{height:"80%",overflow:"hidden",backgroundColor:"#f2f2f2"},onMouseDown:e=>{(1===e.button||0===e.button)&&(e.preventDefault(),d(!0),m({x:e.clientX,y:e.clientY}))},onMouseMove:e=>{if(!a||!f.current)return;let t=e.clientX-u.x,l=e.clientY-u.y;f.current.scrollLeft=h.x-t,f.current.scrollTop=h.y-l},children:(0,s.jsx)("div",{className:"transition-transform duration-200",style:{minWidth:"fit-content",minHeight:"".concat(100*i,"%")},children:(0,s.jsx)("div",{className:"transform-gpu",style:{transform:"scale(".concat(i,")"),transformOrigin:"0 0",padding:"1rem",margin:"0",width:"max-content"},children:(0,s.jsxs)("div",{className:"flex flex-col items-center relative",style:{minHeight:y.totalHeight+200,width:"max-content"},children:[(0,s.jsx)(o,{title:"MGL",subtitle:"Plant A",level:0}),(0,s.jsx)(c,{height:40}),(0,s.jsx)("div",{className:"flex flex-row justify-center flex-wrap",children:j.map((t,l)=>{let n="string"==typeof t.title&&e.includes(t.title)||Array.isArray(t.title)&&t.title.some(t=>e.includes(t))?t.tm.length:0;return(0,s.jsxs)("div",{className:"flex flex-col items-center relative",style:{minHeight:y.totalHeight,marginLeft:"".concat(Math.max(1,1.5+4.9*n),"rem"),marginRight:"".concat(Math.max(1,1.5+4.9*n),"rem")},children:["string"==typeof t.title?(0,s.jsx)(o,{title:"GL",subtitle:t.title,level:2}):Array.isArray(t.title)&&t.title.length>0?(0,s.jsx)(o,{title:"",subtitle:t.title.join(" "),level:2,className:"bg-white border border-white text-[2em] font-bold"}):null,(0,s.jsx)(c,{height:20}),(0,s.jsx)(w,{title:t.title,tlData:t.tl,tmData:t.tm,tlStartY:y.tlStartY,tmStartY:y.tmStartY})]},l)})})]})})})}),(0,s.jsxs)("div",{className:"absolute z-50 bg-white p-4 rounded-lg shadow-lg border border-gray-500",style:{right:"2rem",bottom:"calc(20% + 2rem)",width:"12rem"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"MGL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:1})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"GL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:j.length})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"TL:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:j.reduce((e,t)=>e+t.tl.length,0)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"TM:"}),(0,s.jsx)("div",{className:"bg-gray-100 px-2 py-0.5 rounded",children:j.reduce((e,t)=>e+t.tm.reduce((e,t)=>e+t.length,0),0)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t",children:[(0,s.jsx)("span",{className:"font-semibold w-16",children:"총합:"}),(0,s.jsx)("div",{className:"bg-gray-200 px-3 py-0.5 rounded font-bold",children:j.length+j.reduce((e,t)=>e+t.tl.length,0)+j.reduce((e,t)=>e+t.tm.reduce((e,t)=>e+t.length,0),0)})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-white border-t",style:{height:"20%"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("button",{onClick:()=>r(e=>e+.1),className:"w-10 h-10 border border-gray-500 rounded hover:bg-gray-100",children:"+"}),(0,s.jsx)("button",{onClick:()=>r(e=>Math.max(.1,e-.1)),className:"w-10 h-10 border border-gray-500 rounded hover:bg-gray-100",children:"-"}),(0,s.jsx)("button",{onClick:()=>r(.8),className:"w-20 h-10 border border-gray-500 rounded hover:bg-gray-100",children:"리셋"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("label",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"라인 수"}),(0,s.jsx)("input",{type:"number",className:"w-20 border p-1 rounded",value:t.lineCount,onChange:e=>l(t=>({...t,lineCount:+e.target.value}))})]})})]})]})},v={lineCount:4,shiftsCount:2,miniLineCount:2,hasTonguePrefit:!0,stockfitRatio:"2:1"};function j(){return(0,s.jsx)(h,{page:"3",config:v})}let y=(0,n.createContext)(void 0);function N(e){let{children:t}=e,[l,i]=(0,n.useState)({mgl:0,vsm:0,gl:0,tl:0,tm:0});return(0,s.jsx)(y.Provider,{value:{orgData:l,updateOrgData:e=>{i(e)}},children:t})}function w(){let e=(0,n.useContext)(y);if(!e)return null;let{orgData:t}=e,l=t.mgl+t.vsm+t.gl+t.tl+t.tm;return(0,s.jsxs)("div",{className:"p-8 border rounded-lg shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"집계 페이지 (페이지 4)"}),(0,s.jsxs)("p",{className:"mt-4",children:["전체 합계: ",l]})]})}function C(){let[e,t]=(0,n.useState)("1");return(0,s.jsx)(N,{children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("select",{onChange:e=>t(e.target.value),value:e,className:"mb-4 p-2 border rounded",children:[(0,s.jsx)("option",{value:"1",children:"페이지 1"}),(0,s.jsx)("option",{value:"2",children:"페이지 2"}),(0,s.jsx)("option",{value:"3",children:"페이지 3"}),(0,s.jsx)("option",{value:"4",children:"집계 페이지 (페이지 4)"})]}),(()=>{switch(e){case"1":default:return(0,s.jsx)(p,{});case"2":return(0,s.jsx)(b,{});case"3":return(0,s.jsx)(j,{});case"4":return(0,s.jsx)(w,{})}})()]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[891,441,517,358],()=>t(2610)),_N_E=e.O()}]);